edu ncsu csc itrust action java text SimpleDateFormat java util ArrayList java util Calendar java util List edu ncsu csc itrust action base PatientBaseAction edu ncsu csc itrust beans Email edu ncsu csc itrust beans PatientBean edu ncsu csc itrust beans PatientHistoryBean edu ncsu csc itrust dao DAOFactory edu ncsu csc itrust dao mysql PatientDAO edu ncsu csc itrust dao mysql PersonnelDAO edu ncsu csc itrust exception DBException edu ncsu csc itrust exception FormValidationException edu ncsu csc itrust exception iTrustException edu ncsu csc itrust validate PatientValidator edu ncsu csc itrust EmailUtil EditPatientAction PatientBaseAction PatientValidator PatientDAO PersonnelDAO EmailUtil EditPatientAction DAOFactory factory loggedInMID String pidString iTrustException factory pidString patientDAO factory getPatientDAO personnelDAO factory getPersonnelDAO loggedInMID loggedInMID emailutil EmailUtil factory updateInformation PatientBean p iTrustException FormValidationException p setMID pid validator validate p patientDAO editPatient p loggedInMID emailutil sendEmail makeEmail PatientBean getPatient DBException patientDAO getPatient getPid Email makeEmail DBException Email List PatientBean PatientBean List String toAddrs add pb getEmail PatientBean r reps toAddrs add r getEmail email setFrom email setToList toAddrs email setSubject String format email setBody pb getFullName email deactivate DBException PatientBean p setMID pid p setDateOfDeactivationStr SimpleDateFormat format Calendar getInstance getTime patientDAO editPatient p loggedInMID activate DBException PatientBean p setMID pid p setDateOfDeactivationStr patientDAO editPatient p loggedInMID hasHistory DBException patientDAO hasHistory getPid List PatientHistoryBean getHistory DBException patientDAO getPatientHistory getPid String getEmployeeName mid DBException iTrustException personnelDAO getName mid