edu ncsu csc itrust action java util ArrayList java util List java util Calendar edu ncsu csc itrust action base PatientBaseAction edu ncsu csc itrust beans AllergyBean edu ncsu csc itrust beans DiagnosisBean edu ncsu csc itrust beans Email edu ncsu csc itrust beans PatientBean edu ncsu csc itrust beans PrescriptionBean edu ncsu csc itrust beans OfficeVisitBean edu ncsu csc itrust dao DAOFactory edu ncsu csc itrust dao mysql AllergyDAO edu ncsu csc itrust dao mysql PatientDAO edu ncsu csc itrust dao mysql OfficeVisitDAO edu ncsu csc itrust enums PrescriptionAlerts edu ncsu csc itrust exception DBException edu ncsu csc itrust exception iTrustException edu ncsu csc itrust EmailUtil edu ncsu csc itrust beans ProcedureBean EmergencyReportAction PatientBaseAction PatientDAO AllergyDAO OfficeVisitDAO PatientBean EmailUtil EmergencyReportAction DAOFactory factory loggedInMID String pidString iTrustException factory pidString patientDAO factory getPatientDAO allergyDAO factory getAllergyDAO ovDAO factory getOfficeVisitDAO emailutil EmailUtil factory pb patientDAO getPatient pid emailutil sendEmail makeEmail String getPatientName pb getFirstName pb getLastName String getPatientAge Integer toString pb getAge String getPatientGender pb getGender toString String getPatientEmergencyContact pb getEmergencyName pb getEmergencyPhone String getBloodType pb getBloodType List AllergyBean getAllergies iTrustException allergyDAO getAllergies pid List PrescriptionBean getCurrentPrescriptions iTrustException List PrescriptionBean ArrayList PrescriptionBean i allPrescriptions size i PrescriptionAlerts isAlert allPrescriptions get i getMedication getNDCode warningList add allPrescriptions get i warningList List DiagnosisBean getWarningDiagnoses iTrustException List DiagnosisBean ArrayList DiagnosisBean DiagnosisBean bean allDiagnoses OfficeVisitBean ovb equals bean getClassification ovb getVisitDate getTime Calendar getInstance getTimeInMillis DiagnosisBean wbean warningList bean getDescription equals wbean getDescription dup dup warningList add bean warningList DBException dbe iTrustException dbe getMessage List ProcedureBean getImmunizations iTrustException List ProcedureBean allImmunizations Email makeEmail DBException Email List PatientBean List String toAddrs add pb getEmail PatientBean r reps toAddrs add r getEmail email setFrom email setToList toAddrs email setSubject String format email setBody pb getFullName email