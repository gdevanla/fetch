edu ncsu csc itrust dao mysql java sql Connection java sql PreparedStatement java sql ResultSet java sql SQLException java sql Timestamp java util List edu ncsu csc itrust DBUtil edu ncsu csc itrust beans OperationalProfile edu ncsu csc itrust beans TransactionBean edu ncsu csc itrust beans loaders OperationalProfileLoader edu ncsu csc itrust beans loaders TransactionBeanLoader edu ncsu csc itrust dao DAOFactory edu ncsu csc itrust enums TransactionType edu ncsu csc itrust exception DBException TransactionDAO DAOFactory TransactionBeanLoader OperationalProfileLoader TransactionDAO DAOFactory factory factory factory List TransactionBean getAllTransactions DBException Connection PreparedStatement conn factory getConnection ps conn prepareStatement ResultSet loader loadList rs SQLException e e printStackTrace DBException e DBUtil closeConnection conn ps logTransaction TransactionType type loggedInMID DBException logTransaction type loggedInMID logTransaction TransactionType type loggedInMID secondaryMID String addedInfo DBException Connection PreparedStatement conn factory getConnection ps conn prepareStatement ps setLong loggedInMID ps setLong secondaryMID ps setInt type getCode ps setString addedInfo ps executeUpdate SQLException e e printStackTrace DBException e DBUtil closeConnection conn ps List TransactionBean getAllRecordAccesses patientID dlhcpID getByRole DBException Connection PreparedStatement conn factory getConnection ps conn prepareStatement TransactionType patientViewableStr ps setLong patientID ps setLong dlhcpID ResultSet List TransactionBean tbList addAndSortRoles tbList patientID getByRole tbList SQLException e e printStackTrace DBException e DBUtil closeConnection conn ps List TransactionBean getTransactionsAffecting mid dlhcpID java util Date start range DBException Connection PreparedStatement conn factory getConnection ps conn prepareStatement TransactionType patientViewableStr TransactionType dlhcpHiddenStr ps setString mid ps setString mid ps setInt TransactionType LOGIN_SUCCESS getCode ps setTimestamp Timestamp start getTime ps setLong dlhcpID ps setInt range ResultSet List TransactionBean tbList SQLException e e printStackTrace DBException e DBUtil closeConnection conn ps List TransactionBean getRecordAccesses patientID dlhcpID java util Date lower java util Date upper getByRole DBException Connection PreparedStatement conn factory getConnection ps conn prepareStatement TransactionType patientViewableStr ps setLong patientID ps setTimestamp Timestamp lower getTime ps setTimestamp Timestamp upper getTime ps setLong dlhcpID ResultSet List TransactionBean tbList addAndSortRoles tbList patientID getByRole tbList SQLException e e printStackTrace DBException e DBUtil closeConnection conn ps OperationalProfile getOperationalProfile DBException Connection PreparedStatement conn factory getConnection ps conn prepareStatement ResultSet operationalProfileLoader loadSingle rs SQLException e e printStackTrace DBException e DBUtil closeConnection conn ps List TransactionBean addAndSortRoles List TransactionBean tbList patientID sortByRole DBException Connection PreparedStatement conn factory getConnection TransactionBean t tbList ps conn prepareStatement ps setLong t getLoggedInMID ResultSet String rs next role rs getString role equals role role equals role role equals role ps conn prepareStatement ps setLong t getLoggedInMID ResultSet rs2 next rs2 getLong patientID role role equals role ps conn prepareStatement ps setLong t getLoggedInMID ResultSet rs2 next rs2 getLong patientID role t setRole role sortByRole TransactionBean array tbList get TransactionBean i tbList size i t tbList get i String array j role compareToIgnoreCase array j getRole j k j k array k array k array j t i size i tbList set i array i tbList SQLException e e printStackTrace DBException e DBUtil closeConnection conn ps